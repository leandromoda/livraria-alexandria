n}\n",
    "app\\(public)\\ofertas\\data.mock.ts": "export const ofertasMock = [\n  {\n    id: 1,\n    titulo: \"O Investidor Inteligente\",\n    slug: \"o-investidor-inteligente\",\n    afiliado_id: \"8535930321\",\n    preco: 59.9,\n    preco_original: 89.9,\n  },\n  {\n    id: 2,\n    titulo: \"Ação Humana\",\n    slug: \"acao-humana\",\n    afiliado_id: \"8593751422\",\n    preco: 74.9,\n    preco_original: null,\n  },\n];\n",
    "app\\(public)\\ofertas\\data.ts": "import { ofertasMock } from \"./data.mock\";\nimport { createClient } from \"@supabase/supabase-js\";\n\ntype Oferta = {\n  id: number;\n  titulo: string;\n  slug: string;\n  preco: number;\n  url_afiliada: string;\n};\n\nexport async function getOfertas(): Promise<Oferta[]> {\n  const useMock = process.env.NEXT_PUBLIC_USE_MOCK === \"true\";\n\n  if (useMock) {\n    return ofertasMock;\n  }\n\n  const supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n  );\n\n  const { data, error } = await supabase\n    .from(\"ofertas\")\n    .select(`\n      id,\n      preco,\n      url_afiliada,\n      livros (\n        titulo,\n        slug\n      )\n    `)\n    .order(\"id\", { ascending: false });\n\n  if (error) {\n    throw new Error(error.message);\n  }\n\n  /**\n   * Flatten do JOIN\n   */\n  const parsed: Oferta[] =\n    data?.map((o: any) => ({\n      id: o.id,\n      preco: o.preco,\n      url_afiliada: o.url_afiliada,\n      titulo: o.livros?.titulo ?? \"Sem título\",\n      slug: o.livros?.slug ?? \"#\",\n    })) ?? [];\n\n  return parsed;\n}\n",
    "app\\(public)\\ofertas\\page.tsx": "export const runtime = \"edge\";\n\nimport { createClient } from \"@supabase/supabase-js\";\n\nexport default async function OfertasPage() {\n  const supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n  );\n\n  /**\n   * Ofertas + Livro\n   */\n  const { data: ofertas } = await supabase\n    .from(\"ofertas\")\n    .select(`\n      id,\n      preco,\n      marketplace,\n      livros (\n        titulo,\n        slug,\n        autor,\n        imagem_url,\n        isbn\n      )\n    `)\n    .eq(\"ativa\", true);\n\n  const baseUrl =\n    process.env.NEXT_PUBLIC_SITE_URL ||\n    \"http://localhost:3000\";\n\n  /**\n   * =========================\n   * Schema.org\n   * =========================\n   */\n  const schema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"ItemList\",\n    name: \"Ofertas de livros\",\n    itemListElement: ofertas?.map(\n      (o: any, index: number) => ({\n        \"@type\": \"ListItem\",\n        position: index + 1,\n        item: {\n          \"@type\": \"Product\",\n          name: o.livros.titulo,\n          image:\n            o.livros.imagem_url || undefined,\n          sku: o.livros.isbn,\n          brand: {\n            \"@type\": \"Brand\",\n            name: o.livros.autor,\n          },\n          offers: {\n            \"@type\": \"Offer\",\n            price: o.preco,\n            priceCurrency: \"BRL\",\n            availability:\n              \"https://schema.org/InStock\",\n            url: `${baseUrl}/api/click/${o.id}`,\n            seller: {\n              \"@type\": \"Organization\",\n              name: o.marketplace,\n            },\n          },\n        },\n      })\n    ),\n  };\n\n  return (\n    <main className=\"max-w-3xl mx-auto px-6 py-10 space-y-6\">\n      {/* Schema */}\n      <script\n        type=\"application/ld+json\"\n        dangerouslySetInnerHTML={{\n          __html: JSON.stringify(schema),\n        }}\n      />\n\n      <h1 className=\"text-3xl font-bold\">\n        Ofertas de Livros\n      </h1>\n\n      <ul className=\"space-y-4\">\n        {ofertas?.map((o: any) => (\n          <li\n            key={o.id}\n            className=\"border p-4 rounded-lg\"\n          >\n            <a\n              href={`/livros/${o.livros.slug}`}\n              className=\"text-lg font-semibold text-blue-600 hover:underline block\"\n            >\n              {o.livros.titulo}\n            </a>\n\n            <p className=\"text-gray-700\">\n              R$ {o.preco}\n            </p>\n\n            <a\n              href={`/api/click/${o.id}`}\n              target=\"_blank\"\n              className=\"text-sm text-green-600 hover:underline\"\n            >\n              Ver oferta →\n            </a>\n          </li>\n        ))}\n      </ul>\n    </main>\n  );\n}",
    "app\\teste\\[id]\\page.tsx": "export default function Teste({ params }: any) {\n  return (\n    <div style={{ padding: 40 }}>\n      ID: {params?.id}\n    </div>\n  );\n}\n",
    "lib\\supabase-admin.ts": "import { createClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY!;\n\nexport const supabaseAdmin = createClient(\n  supabaseUrl,\n  serviceRoleKey,\n  {\n    auth: {\n      persistSession: false\n    }\n  }\n);\n",
    "lib\\supabase.ts": "import { createClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl =\n  process.env.SUPABASE_URL ??\n  process.env.NEXT_PUBLIC_SUPABASE_URL;\n\nconst supabaseAnonKey =\n  process.env.SUPABASE_ANON_KEY ??\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\nif (!supabaseUrl) {\n  throw new Error(\"supabaseUrl is required.\");\n}\n\nif (!supabaseAnonKey) {\n  throw new Error(\"supabaseAnonKey is required.\");\n}\n\nexport const supabase = createClient(\n  supabaseUrl,\n  supabaseAnonKey\n);",
    "lib\\supabase\\edge.ts": "import { createClient } from \"@supabase/supabase-js\";\n\nexport const supabaseEdge = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n  {\n    auth: {\n      persistSession: false,\n    },\n  }\n);"
  }
}